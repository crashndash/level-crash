<div class="segment" data-ng-repeat="road in makeRoads() track by $index">
  <div class="segment-resizer" style="height: {{getHeight($index)}}px" jui:resizable event:resize="roadResized" opt:maxWidth="150" opt:minHeight="30" opt:maxHeight="120" opt:minWidth="150"></div>
  <div class="side-resizer" jui:resizable
      event:resize="sideResized"
      opt:maxWidth="60"
      opt:minHeight="getHeight(road)"
      opt:maxHeight="getHeight(road)"
      opt:minWidth="0"
      data-index="{{$index}}"
      data-side="0">
  </div>
  <div class="side-resizer right" jui:resizable
      event:resize="sideResized"
      opt:maxWidth="60"
      opt:minHeight="getHeight(road)"
      opt:maxHeight="getHeight(road)"
      opt:minWidth="0"
      opt:handles="'w'"
      data-index="{{$index}}"
      data-side="1">
  </div>
  <div class="side left-side" style="
    z-index:2;
    height: 0;
    border-top: {{getBorderTop(0, $index)}}px solid green;
    border-bottom: {{getBorderBottom(0, $index)}}px solid green;
    border-left: {{getBorderLeft(0, $index)}}px solid transparent;
    border-right: {{getBorderRight(0, $index)}}px solid transparent;
    width: {{getOffsetWidth(0 ,$index)}}px;
  "></div>
  <div class="side right-side" style="
    z-index:2;
    height: 0;
    border-top: {{getBorderTop(1, $index)}}px solid green;
    border-bottom: {{getBorderBottom(1, $index)}}px solid green;
    border-left: {{getBorderLeft(1, $index)}}px solid transparent;
    border-right: {{getBorderRight(1, $index)}}px solid transparent;
    width: {{getOffsetWidth(1 ,$index)}}px;
  "></div>
  <div ng-if="hasPowerup($index)" class="road-powerup">
    <div class="powerup sprite-{{ powerUp($index) }}"></div>
  </div>
  <div ng-if="hasBlock($index)">
    <div class="block($index)"></div>
  </div>
  <div ng-if="hasSwarm($index)">
    <div class="swarm($index)"></div>
  </div>
  <div data-index="{{$index}}" class="inner-drop" jui:droppable event:drop="dropped" opt:tolerance="pointer"></div>
</div>
